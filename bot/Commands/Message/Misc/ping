const { Message, PermissionFlagsBits, Client } = require("discord.js");

module.exports = {
  name: "ping",
  description: "Get Bot Real Ping !!",
  userPermissions: PermissionFlagsBits.SendMessages,
  botPermissions: PermissionFlagsBits.SendMessages,
  category: "Misc",
  cooldown: 5,
    type1: "message",
  membership: true,
  /**
   *
   * @param {Client} client
   * @param {Message} message
   * @param {String[]} args
   * @param {String} prefix
   */
  run: async (client, message, args, prefix) => {
    try {
      const msg = await message.reply({
        content: "Calculating ping...",
      });
      const latency = msg.createdTimestamp - message.createdTimestamp;
      await msg.edit({
        content: `> Pong \`${client.ws.ping}ms\`\n> Latency: \`${latency}ms\``,
      });
    } catch (error) {
      console.error("Error in ping message command:", error);
      await message.reply({
        content: "An error occurred while calculating the ping.",
      }).catch(() => {});
    }
  },
};
