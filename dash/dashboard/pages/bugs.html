<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Bug Report</title>

  <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">

  <style>

    body {

      margin: 0;

      padding: 0;

      font-family: 'Segoe UI', sans-serif;

      background: linear-gradient(145deg, #1e1f25, #282a36);

      color: #f1f1f1;

      display: flex;

      justify-content: center;

      align-items: center;

      min-height: 100vh;

    }

    .card {

      background: rgba(40, 42, 54, 0.9);

      backdrop-filter: blur(12px);

      border-radius: 20px;

      box-shadow: 0 0 25px rgba(0,0,0,0.3);

      padding: 2rem;

      max-width: 500px;

      width: 100%;

    }

    .card h2 {

      margin-bottom: 1rem;

      color: #fff;

      font-size: 1.8rem;

      display: flex;

      align-items: center;

      gap: 0.5rem;

    }

    label {

      display: block;

      margin-top: 1.2rem;

      margin-bottom: 0.4rem;

      font-weight: 500;

    }

    select, textarea, input[type="email"] {

      width: 100%;

      padding: 0.7rem;

      border: none;

      border-radius: 10px;

      font-size: 1rem;

      background: #2c2e3a;

      color: #fff;

      outline: none;

    }

    textarea {

      min-height: 100px;

      resize: vertical;

    }

    button {

      margin-top: 1.5rem;

      padding: 0.8rem 1.5rem;

      background: #5865F2;

      color: #fff;

      border: none;

      border-radius: 10px;

      font-size: 1rem;

      font-weight: bold;

      cursor: pointer;

      transition: background 0.2s ease;

    }

    button:hover {

      background: #4752c4;

    }

    .bx {

      vertical-align: middle;

    }

  </style>

</head>

<body>

  <div class="card">

    <h2><i class='bx bx-bug'></i> Report a Bug</h2>

    <form id="bugForm">

      <label for="service"><i class='bx bx-cog'></i> Affected Service</label>

      <select id="service" name="service" required>

        <option value="">Select service</option>

        <option value="api">API</option>

        <option value="bot">Bot</option>

        <option value="dashboard">Dashboard</option>

      </select>

      <label for="page"><i class='bx bx-file-find'></i> Page Affected</label>

      <select id="page" name="page" required>

        <option value="">Select page</option>

      </select>

      <label for="email"><i class='bx bx-envelope'></i> Email (optional)</label>

      <input type="email" name="email" value=${email} disabled>

      <label for="message"><i class='bx bx-message-dots'></i> Describe the Bug</label>

      <textarea name="message" placeholder="What went wrong?" required></textarea>

      <button type="submit"><i class='bx bx-send'></i> Submit</button>

    </form>

  </div>

  <script>

    const serviceSelect = document.getElementById('service');

    const pageSelect = document.getElementById('page');

    const pages = {

      api: ['Auth Endpoint', 'User Data Endpoint', 'Rate Limiting'],

      bot: ['Command Handling', 'Event System', 'Permissions'],

      dashboard: ['Login Page', 'Settings Page', 'Analytics']

    };

    serviceSelect.addEventListener('change', () => {

      const selected = serviceSelect.value;

      pageSelect.innerHTML = '<option value="">Select page</option>';

      if (pages[selected]) {

        pages[selected].forEach(page => {

          const opt = document.createElement('option');

          opt.value = page;

          opt.textContent = page;

          pageSelect.appendChild(opt);

        });

      }

    });

    document.getElementById('bugForm').addEventListener('submit', async (e) => {

    e.preventDefault();

    const data = {

        service: serviceSelect.value,

        page: pageSelect.value,

        email: e.target.email.value || 'Not provided',

        message: e.target.message.value

    };

    const embed = {

        title: "üêõ New Bug Report",

        color: 0x5865F2,

        fields: [

            {

                name: "Affected Service",

                value: data.service,

                inline: true

            },

            {

                name: "Page Affected",

                value: data.page,

                inline: true

            },

            {

                name: "Reporter Email",

                value: data.email,

                inline: true

            },

            {

                name: "Bug Description",

                value: data.message

            }

        ],

        timestamp: new Date().toISOString(),

        footer: {

            text: "Bug Report System"

        }

    };

    try {

        const response = await fetch('https://discord.com/api/webhooks/1278745251825188946/anzTQ55zYGjN-VlWsKN_Hpylx6sqKhx3fLQrWxBzUBnY1Xx9D_wILsqbXGqnlYZR5qoC', {

            method: 'POST',

            headers: { 'Content-Type': 'application/json' },

            body: JSON.stringify({

                embeds: [embed],

                content: `üì• New bug report submitted!`

            })

        });

        if (!response.ok) throw new Error('Failed to submit report');

        

        alert('Bug report sent successfully!');

        e.target.reset();

        pageSelect.innerHTML = '<option value="">Select page</option>'; // Reset page select

    } catch (error) {

        console.error('Error:', error);

        alert('Error submitting report. Please try again.');

    }

});

  </script>

</body>

</html>

